function parallax(e){this.querySelectorAll(".layer").forEach(t=>{const n=t.getAttribute("data-speed"),o=(window.innerWidth-e.pageX*n)/100,a=(window.innerHeight-e.pageY*n)/100;t.style.transform=`translateX(${o}px) translateY(${a}px)`})}document.addEventListener("mousemove",parallax),CustomEase.create("cubic","0.83, 0, 0.17, 1");let isAnimating=!1;function splitTextIntoSpans(e){document.querySelectorAll(e).forEach(e=>{let t=e.innerText.split("").map((function(e){return`<span class="textos">${" "===e?"&nbsp;&nbsp;":e}</span>`})).join("");e.innerHTML=t})}function initializeCards(){let e=Array.from(document.querySelectorAll(".card"));gsap.to(e,{y:e=>15*e-15+"%",z:e=>15*e,duration:1,ease:"cubic",stagger:-.1})}document.addEventListener("DOMContentLoaded",(function(){splitTextIntoSpans(".copy h1"),initializeCards(),gsap.set("h1 span",{y:-100}),gsap.set(".slider .card:last-child h1 span",{y:0}),gsap.set(".producto p",{y:-100}),gsap.set(".slider .card:last-child .producto p",{y:0}),gsap.set(".contenido .losp",{scale:0}),gsap.set(".slider .card:last-child .contenido .losp",{scale:1})}));let button=document.querySelector(".button");button.addEventListener("click",(function(){if(isAnimating)return;isAnimating=!0,button.classList.add("loading"),button.innerHTML='<span class="spinner"></span>';let e=document.querySelector(".slider"),t=Array.from(document.querySelectorAll(".card")),n=t.pop(),o=t[t.length-1];gsap.to(n.querySelectorAll(".contenido .copy h1 span"),{y:100,duration:.7,ease:"cubic"}),gsap.to(n.querySelectorAll(".producto p"),{y:100,duration:.7,ease:"cubic"}),gsap.to(n.querySelectorAll(".contenido .losp"),{scale:0,duration:.7,ease:"cubic"}),gsap.to(n,{y:"+=150%",duration:.85,ease:"cubic",onComplete:()=>{e.prepend(n),initializeCards(),gsap.set(n.querySelectorAll(".contenido .copy h1 span"),{y:-100}),gsap.set(n.querySelectorAll(".producto p"),{y:-100}),gsap.set(n.querySelectorAll(".contenido .losp"),{scale:0}),setTimeout(()=>{isAnimating=!1,button.classList.remove("loading"),button.innerHTML="â†’"},1e3)}}),gsap.to(o.querySelectorAll(".contenido .copy h1 span"),{y:0,duration:1,ease:"cubic",stagger:.05}),gsap.to(o.querySelectorAll(".producto p"),{y:0,duration:1,ease:"cubic",stagger:.05}),gsap.to(o.querySelectorAll(".contenido .losp"),{scale:1,duration:1,ease:"cubic",stagger:.05})}));